{"version":3,"sources":["../server/server.js"],"names":["config","silent","PORT","process","env","HOST","VCAP_APP_HOST","app","use","json","static","join","__dirname","get","req","res","sendFile","resolve","server","createServer","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,iBAAOA,MAAP,CAAc,EAACC,QAAQ,IAAT,EAAd;;AAEA,IAAMC,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,IAAMG,OAAOF,QAAQC,GAAR,CAAYE,aAAZ,IAA6B,SAA1C;;AAEA,IAAMC,MAAM,yBACTC,GADS,CACL,4BADK,EAETA,GAFS,CAEL,6BAFK,EAGTA,GAHS,CAGL,sBAAO,KAAP,CAHK;AAIV;AAJU,CAKTA,GALS,CAKL,qBAAWC,IAAX,EALK,CAAZ;;AAOA;AACAF,IAAIC,GAAJ,CAAQ,MAAR;;AAEA;AACAD,IAAIC,GAAJ,CAAQ,GAAR,EAAa,kBAAQE,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,UAArB,CAAf,CAAb;AACAL,IAAIM,GAAJ,CAAQ,IAAR,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIC,QAAJ,CAAa,eAAKC,OAAL,CAAa,eAAKN,IAAL,CAAUC,SAAV,EAAqB,qBAArB,CAAb,CAAb;AACD,CAFD;;AAIA,IAAMM,SAAS,eAAKC,YAAL,CAAkBZ,GAAlB,CAAf;AACAW,OAAOE,MAAP,CAAclB,IAAd,EAAoBG,IAApB;;AAEAgB,QAAQC,GAAR,CAAY,0CAA0CjB,IAA1C,GAAiD,GAAjD,GAAuDH,IAAvD,GAA8D,GAA1E","file":"server.js","sourcesContent":["import compression from 'compression';\nimport express from 'express';\nimport http from 'http';\nimport morgan from 'morgan';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport path from 'path';\nimport dotenv from 'dotenv';\nimport api from './api';\n\ndotenv.config({silent: true});\n\nconst PORT = process.env.PORT || 8080;\nconst HOST = process.env.VCAP_APP_HOST || \"0.0.0.0\";\n\nconst app = express()\n  .use(compression())\n  .use(cookieParser())\n  .use(morgan('dev'))\n  // .use(morgan('tiny'))\n  .use(bodyParser.json());\n\n// REST API\napp.use('/api', api);\n\n// UI\napp.use('/', express.static(path.join(__dirname, '/../dist')));\napp.get('/*', (req, res) => {\n  res.sendFile(path.resolve(path.join(__dirname, '/../dist/index.html')));\n});\n\nconst server = http.createServer(app);\nserver.listen(PORT, HOST);\n\nconsole.log('Server started, listening at: http://' + HOST + ':' + PORT + '/');\n"]}